const { makePrismaBindingClass } = require('prisma-binding')


/**
 * Type Defs
*/

const typeDefs = `type AuthPayload {
  token: String
  user: Pooser
}

scalar DateTime

type LatLng {
  lat: Float!
  lng: Float!
}

type LatLngBound {
  southWestLatLng: LatLng!
  northEastLatLng: LatLng!
}

type Link {
  id: ID!
  description: String!
  url: String!
}

type Mutation {
  createLink(url: String!, description: String!): Link!
  createShithole(lat: Float!, lng: Float!, name: String!, address: String!): Shithole!
  createTurdbit(overall: Int!, author: Pooser!, shithole: Shithole!): Turdbit!
}

type Pooser {
  id: ID!
  name: String!
  email: String!
  password: String!
  turdbits: [Turdbit!]!
  updatedAt: DateTime!
  createdAt: DateTime!
}

type Query {
  shitholes: [Shithole]
}

type Shithole {
  id: ID!
  lat: Float!
  lng: Float!
  name: String!
  address: String!
  turdbits: [Turdbit!]!
  updatedAt: DateTime!
  createdAt: DateTime!
}

type ShitholesInView {
  shitholes: [Shithole!]!
  count: Int!
}

type Shitpic {
  id: ID!
  url: String!
  caption: String
}

type Turdbit {
  id: ID!
  accessibility: Int
  cleanliness: Int
  stalls: Int
  privacy: Int
  text: String
  tpQuality: Int
  overall: Int!
  author: Pooser
  shithole: Shithole
  updatedAt: DateTime!
  createdAt: DateTime!
}
`

const Prisma = makePrismaBindingClass({ typeDefs })
module.exports = { Prisma }
